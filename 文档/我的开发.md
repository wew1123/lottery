## 1. 基础设施搭建

1. 安装Go、MySQL、Redis

2. git 初始化

3. 项目结构搭建

4. 配置数据库
    - 连接数据库
    - 生成数据



5. 配置redis
    - 连接redis


## 2. 基础设施层开发
   1. 日志系统 [x]
   2. config配置加载
   3. 数据库[ ]

        数据库连接
        gorm 配置
        连接池

   4. redis连接 [] 

   5. 分布式锁 [x]

## 3 数据模型层开发
1. 自定义模型结构体
2. 配置gorm标签
3. 实现数据转换函数

```go
type Prize struct {
    Id            uint      `gorm:"primaryKey"`
    Title         string    `gorm:"size:255;not null;default:''"`
    PrizeNum      int       `gorm:"not null;default:-1"`
    LeftNum       int       `gorm:"not null;default:0"`
    PrizeCode     string    `gorm:"size:50;not null;default:''"`
}
```

## 4. 数据访问层开发
内容：
1. 实现repo接口

2. 封装crud操作

3. 实现缓存逻辑

顺序：
1. 奖品repo
2. 用户repo
3. 抽奖结果repo
4. 黑名单repo
```go
type PrizeReop struct {}

func NewPrizeRepo() *PrizeReop {
    return &PrizeReop{}
}

func (p *PrizeReop) GetAllUsefulPrizeList(db *gorm.DB) ([]*model.Prize, error) {
    // ... 实现逻辑
}
```

## 5. 业务逻辑开发
开发顺序：
1. 抽奖
2. 限制
3. 结果
4. 用户服务


## 6. 接口层开发

开发内容：

- 实现HTTP接口
- 参数验证和错误处理
- 路由配置
- 开发顺序：

登录接口
1. 奖品管理接口
2. 抽奖接口v1版本
3. 抽奖接口v2版本
4. 抽奖接口v3版本


## 6. 定时任务开发


## 7. 测试优化阶段

## 8. 部署上线


pkg --> repo --> service --> handler
                         --> router


服务:
1. 网关
    登录
    注册
    鉴权

2. 用户面板
    - 抽奖操作
    - 注册用户


3. 管理员面板
    - 操作奖品


    - 操作用户
        - 删除用户
        - 黑名单加入
